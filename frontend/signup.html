<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sign Up | Football Match Prediction</title>
  <link rel="stylesheet" href="style.css" />
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>
<div class="signup-container">
  <p class="description">
  </p>
  <div class="form-box">
    <h2>Sign Up</h2>
    <form id="signup-form">
      <label for="username">Username</label>
      <input type="text" id="username" name="username" required />

      <label for="password">Password</label>
      <input type="password" id="password" name="password" required />

      <label for="confirm_password">Confirm Password</label>
      <input type="password" id="confirm_password" name="confirm_password" required />

      <button type="submit">Sign Up</button>
    </form>
    <p class="switch-link">
      Already have an account? <a href="login.html">Login</a>
    </p>
  </div>
</div>
</body>
</html>
<script>
document.getElementById('signup-form').addEventListener('submit', async function(e){
  e.preventDefault();
  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value.trim();
  const confirm = document.getElementById('confirm_password').value.trim();
  if(password !== confirm){ alert('Passwords do not match'); return; }
  try {
    const res = await fetch('http://localhost:8000/api/auth/register/', {
      method:'POST', headers:{'Content-Type':'application/json'},
      body: JSON.stringify({username, password, role: 'user'})
    });
    if(res.ok){ alert('Registered successfully'); window.location.href = 'login.html'; }
    else { const data = await res.json(); alert(data.detail || 'Registration failed'); }
  } catch(err){ alert('Network error'); }
});
</script>
